---
title: "p8105_hw1_yl5828"
author: "Leah Li yl5828"
date: "2025-09-19"
output: html_document
---

# HW1

#### Problem 1

We first install the required "moderndive" package in Console.

```{r install package and dataset}
# Load the dataset
library(moderndive)
library(tidyverse)
data("early_january_weather")
```

```{r check dataset}
help("early_january_weather")
```

The dataset `early_january_weather` from the `moderndive` package has character variable **origin**, integer variables **year, month, day, hour**, double class variables **temp, dewp, humid, wind_dir, wind_speed, wind_gust, precip, precip, visib**, and date and time variable **time_hour**. 

The dataset has **`r nrow(early_january_weather) `** rows and **`r ncol (early_january_weather)`** columns. 

The mean temperature is **`r mean(early_january_weather$temp)`** F.


Now, we would like to generate a scatterplot of temperature versus time.

```{r scatterplot}
weather_plot <- ggplot(
  early_january_weather,
  aes(x = time_hour, y = temp, color = humid) ) + 
  geom_point(alpha = .5) +
  theme(legend.position = "bottom")

# Display the plot
print(weather_plot)
```
Several patterns are apparent in this plot:

1.  **Diurnal Cycle:** There is a clear and repeating cyclical pattern in the temperature. The temperature consistently rises during the daytime and falls during the nighttime. This creates the wave-like shape visible across the x-axis, representing the daily temperature cycle.

2.  **Time and Humidity Relationship:** The color of the points reveals a relationship between temperature and time. The humidity increases as the time goes by.

3.  **Time and Temperature Relationship:** While the daily cycle is consistent, the overall peaks and troughs vary from day to day. For instance, the temperatures around January 4th are noticeably lower than those around January 11th, indicating a cold spell followed by a warmer period. Overall, the temperature increases as the time goes by.

Now, we save the scatterplot to our project directory.

```{r extract plot}
ggsave("temp_vs_time_plot.png", plot = weather_plot, width = 10, height = 6, dpi = 300)
```



#### Problem 2

Now, we would like to construct a dataframe with some required vectors.

```{r create dataframe}
# Set a seed for reproducibility
set.seed(123)

# Create the required vectors
normal_sample <- rnorm(10)
logical_vector <- normal_sample > 0
char_vector <- c("apple", "banana", "cherry", "date", "elderberry",
                 "fig", "grape", "honeydew", "kiwi", "lemon")
factor_vector <- factor(c("low", "medium", "high", "low", "medium",
                          "high", "low", "medium", "high", "medium"))

set.seed(123)
# Combine them into a data frame
dataframe <- data.frame(
  NormalSample = normal_sample,
  GreaterThan0 = logical_vector,
  Character = char_vector,
  Level = factor_vector
)

set.seed(123)
# Print the data frame
print(dataframe)
```

Now, we take the mean of each variable in the dataframe.

```{r take mean}
# This works because the column is numeric
mean_normal <- mean(pull(dataframe, NormalSample))
print(paste("Mean of NormalSample is ", mean_normal))

# This works due to coercion (TRUE -> 1, FALSE -> 0)
mean_logical <- mean(pull(dataframe, GreaterThan0))
print(paste("Mean of GreaterThan0 is ", mean_logical))
```

```{r take mean but not working}
# The following line will generate a warning, which is expected.
mean_char <- mean(pull(dataframe, Character))
print(mean_char) # This shows NA
```
We could notice that for character vector the mean returns **NA**.

```{r take mean but also not working}
# The following line generates a warning.
mean_factor <- mean(pull(dataframe, Level))
print(mean_factor) # This shows NA
```
We could notice that for factor vector the mean also returns **NA**.

That is, we can conclude that take means can work only for **normal sample** and **logical** variables, but not for **character** and **factor** variables.

```{r }
#echo = T, results = 'hide'
as.numeric(pull(dataframe, GreaterThan0))
as.numeric(pull(dataframe, Character))
as.numeric(pull(dataframe, Level))
```

After we apply as.numeric function, we could observe that for logic variable, the function works well since TRUE values will become 1 and FALSE values will become 0.

For factor vector, function works since each level is being represent as a number from 1-3.

For character vector, a warning message is showed since the text cannot be represent as a number, so the result will only generate NAs.



